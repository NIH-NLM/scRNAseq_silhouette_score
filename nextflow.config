// Default pipeline parameters
params {
    cellxgene_api = "https://api.cellxgene.cziscience.com/v2/collections"
    output_csv = "results/output.csv"
    max_jobs = 100
}

// Enable reports
timeline.enabled = true
trace.enabled = true
dag.enabled = true

// Log directory
log {
    file = "logs/nextflow.log"   // Main Nextflow log file
    level = "INFO"               // Logging level (DEBUG, INFO, WARN, ERROR)
}

// Enable Wave containers for efficiency
wave.enabled = true

// Profile-based configuration loading
profiles {
    local {
        process.executor = 'local'
    }

    slurm {
        includeConfig 'conf/slurm.config'
    }

    aws {
        includeConfig 'conf/aws.config'
    }
}


// Choose executor dynamically
profiles {
    local {
        process.executor = 'local'
    }
    
    slurm {
        process.executor = 'slurm'
        process.queue = 'compute'
    }
    
    aws {
        process.executor = 'awsbatch'
        params.aws_region = 'us-east-1'
    }
}
